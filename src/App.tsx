import React, { useEffect, useState } from 'react';
import CsvUploader from './components/CsvUploader.tsx';
import GoogleSheetReader from './components/GoogleSheetReader.tsx';
import CategoricalValues from './components/CategoricalValues.tsx';
import { mean, std, min, max } from 'mathjs';
import 'bootstrap/dist/css/bootstrap.min.css';
import './App.scss';
import JsonLdService from './services/JsonLdService.js';
import { OntologyTerm } from './models/ontology-term.ts';
import { ValueMapping } from './models/value-mapping.ts';
import logo from './assets/cds-logo.png';

function App() {
  const [googleSheetData, setGoogleSheetData] = useState([]);
  const [localTerms, setLocalTerms] = useState([]);
  const [selectedOntologyTerm, setSelectedOntologyTerm] = useState<OntologyTerm | null>(null);
  const [showList, setShowList] = useState(false);
  const [selectedMapping, setSelectedMapping] = useState('');
  const [data, setData] = useState([]);
  const [uniqueCategoricalValues, setUniqueCategoricalValues] = useState<string[]>([]);
  const [csvFileName, setCsvFileName] = useState('');
  const [categoricalValueMappings, setCategoricalValueMappings] = useState<Map<string, any>>(new Map<string, any>());

  useEffect(() => {
    JsonLdService.initDB();
  }, []);

  useEffect(() => {
    determineAndSetUniqueCategoricalValues(selectedOntologyTerm, selectedMapping);
  }, [selectedMapping]);

  useEffect(() => {
    assignCategoricalValueMappings(selectedOntologyTerm)
  }, [selectedOntologyTerm]);

  const assignCategoricalValueMappings = (ontologyTerm: OntologyTerm | null) => {
    if (!ontologyTerm) return;

    const selectedCategoricalValues = new Map<string, any>();
    JsonLdService.getMapping(ontologyTerm.ontologyClass).then((mapping) => {
      ontologyTerm.valueClass.forEach((value, index) => {
        if (mapping && mapping.source && mapping.target && mapping.target.value_mapping) {
          const selectedCategoricalMapping = mapping.target.value_mapping.find((value_mapping: ValueMapping) => value_mapping.target.uri === value);
          if (selectedCategoricalMapping && selectedCategoricalMapping.source) {
            selectedCategoricalValues.set(value, selectedCategoricalMapping.source);
          } else {
            selectedCategoricalValues.set(value, null);
          }
        } else {
          selectedCategoricalValues.set(value, null);
        }
      });
      setCategoricalValueMappings(selectedCategoricalValues);
    });
  }

  const handleCategoricalValueSelectionChange = (index: number, event: any) => {
    if (!selectedOntologyTerm) return;
    const targetUri = selectedOntologyTerm.valueClass[index];
    if (!targetUri) return;
    if (!event || !event.target) return;
    let value = event.target.value;
    if (!value) value = "";

    JsonLdService.addCategoricalValueMapping(selectedOntologyTerm.ontologyClass, event.target.value, targetUri).then(() => {
    });
    categoricalValueMappings.set(targetUri, value);
    setCategoricalValueMappings(new Map(categoricalValueMappings)); // Force re-render
  };

  const handleGoogleSheetData = (data: any) => {
    setGoogleSheetData(data);
    setShowList(true);
  };

  const handleCsvUpload = (localTerms: any, data: any, fileName: string) => {
    setLocalTerms(localTerms);
    setData(data);
    setCsvFileName(fileName);
  };

  const handleOntologyTermClick = (ontologyTerm) => {
    setSelectedOntologyTerm(ontologyTerm);
    JsonLdService.getMapping(ontologyTerm.ontologyClass).then((mapping) => {
      if (!mapping || !mapping.source || !mapping.source.column) {
        setSelectedMapping('');
      } else {
        setSelectedMapping(mapping.source.column);
      }
    });
  };

  const handleSheetCloseClick = () => {
    setShowList(false);
    setSelectedOntologyTerm(null);
  };

  const handleMappingChange = (event) => {
    if (!selectedOntologyTerm) return;
    const selectedLocalTerm = event.target.value;
    if (!selectedLocalTerm) return;
    setSelectedMapping(selectedLocalTerm);
    const fileNameWithoutExtension = csvFileName.replace(/\.[^/.]+$/, "");
    JsonLdService.addCsvDatasource(fileNameWithoutExtension, localTerms).then(() => {
      JsonLdService.addMapping(
        {
          database: fileNameWithoutExtension,
          table: fileNameWithoutExtension,
          column: selectedLocalTerm,
        },
        {
          type: selectedOntologyTerm.unit,
          uri: selectedOntologyTerm.ontologyClass,
          name: selectedOntologyTerm.variable,
        }
      );
    });
  };

  const getColumnStatistics = (column) => {
    const columnData = data.map((row) => parseFloat(row[column])).filter((value) => !isNaN(value));
    if (!columnData || columnData.length === 0) {
      return {
        mean: 0,
        std: 0,
        count: 0,
        min: 0,
        max: 0,
      };
    }
    return {
      mean: mean(columnData),
      std: std(columnData),
      count: columnData.length,
      min: min(columnData),
      max: max(columnData),
    };
  };

  const determineAndSetUniqueCategoricalValues = (selectedOntologyTerm: any, column: string) => {
    if (!column || !selectedOntologyTerm) return;
    const columnData = data
      .map((row) => row[column])
      .filter((value) => value !== null && value !== undefined && value !== '');
    setUniqueCategoricalValues([...new Set<string>(columnData)]);
  };

  const handleExportJsonLd = async () => {
    const jsonLdObject = await JsonLdService.getJsonLdObject();
    const blob = new Blob([JSON.stringify(jsonLdObject, null, 2)], { type: 'application/json' });

    // Remove file extension
    const fileNameWithoutExtension = csvFileName.replace(/\.[^/.]+$/, "");

    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${fileNameWithoutExtension}.json`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  };

  const deleteJsonLd = async () => {
    await JsonLdService.deleteJsonLdObject();
    handleOntologyTermClick(selectedOntologyTerm);
    assignCategoricalValueMappings(selectedOntologyTerm);
  }

  return (
    <div>
      <nav className="navbar navbar-expand-lg navbar-light">
        <a className="navbar-brand d-inline-block align-top mx-3" href="#">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M52.2735255,89.6160199 C53.4282062,90.4276256 55.4066887,91.7093312 55.2905328,93.272872 C55.243339,93.7370914 55.2005859,95.2875738 54.5116609,95.1232637 C54.2149147,95.0336714 54.3392555,94.7667106 54.3939376,94.5368494 C55.1688912,92.3812732 53.4674764,91.6117829 51.9252318,90.6142473 C50.6760763,89.7389931 48.8062615,90.3478919 48.6890607,91.8462275 C48.6582367,92.7974103 48.3725487,93.7500632 48.6719072,94.7057429 C48.9383519,96.3587895 47.2249209,96.2090078 47.2769038,95.4911454 C47.4583648,94.2125531 47.1257443,92.8931426 47.5298521,91.6580491 C48.0354004,89.6140309 50.3629603,88.2607207 52.2735255,89.6160199 Z M55.1057978,87.1145969 C56.8105214,87.5124004 57.719568,88.4013183 57.8070768,90.3176934 C57.8106468,91.6909804 58.207005,92.7276044 58.5327467,93.8467295 C58.6557815,94.0862764 58.6568264,94.3402653 58.3868988,94.423804 C57.6557432,94.6551354 57.1621239,91.0209409 57.0371735,90.4181821 C56.832551,88.942504 55.8334704,87.9945209 54.482352,88.0122491 C53.4925883,87.7916411 52.5090939,87.5619529 51.5915141,87.1181425 C50.6341418,87.1331034 49.6804265,86.7465421 48.7365505,86.9666312 C47.6206174,87.2269331 46.4488703,87.3911568 45.5895426,88.3099099 C44.624769,89.2633412 45.4269765,90.3457991 45.3218789,91.4267005 C45.4979414,92.7770704 45.4443912,94.0942325 45.0188633,95.3952229 C44.914114,95.7631912 44.0179543,95.9529261 43.71877,95.695824 C43.3653389,95.4119134 44.3913251,93.8912662 44.0677603,93.2425005 C44.0250943,93.1123496 44.0290997,92.9482124 44.0656705,92.813997 C44.2766178,92.0407094 44.1699492,91.2797526 44.0292347,90.5261532 L43.933493,90.024789 C43.5636922,87.9144414 45.6869778,86.5247234 47.5017622,86.0896475 C50.4198541,85.3409985 52.3722145,86.5258477 55.1057978,87.1145969 Z M51.9723559,92.5279935 C52.8062581,92.7399536 53.5540448,93.6141701 53.5477755,94.4179061 C53.520195,94.4933159 53.5087666,94.5801948 53.5005082,94.6692628 L53.4843716,94.8475678 C53.4615014,95.0525793 53.40877,95.2358248 53.1612565,95.2794102 C52.5848304,95.4086099 52.9088306,94.4812088 52.2948759,93.8211144 C51.4784754,92.827038 51.2106375,94.7537907 51.0049701,95.2840801 C50.8029597,96.0477763 49.3658128,95.8708402 49.8800685,94.9654913 C50.1055016,93.913301 50.5194487,92.1602847 51.9723559,92.5279935 Z M45.7927023,82.2459045 C47.3909351,82.3777861 49.0490745,82.6968072 50.627977,83.1577404 C51.5789059,83.0143582 52.6421596,82.967919 53.6296593,82.9834852 C54.7440251,82.9632491 55.840802,83.2123952 56.8887307,83.6415041 C59.0795853,84.524109 61.5568244,85.4720056 62.6051014,87.7457986 C63.4100082,89.1564445 63.6690516,90.7371946 64.0813443,92.2771265 C64.1821754,92.5439143 64.1325435,92.7963466 63.8616581,92.870805 C63.6249054,92.9358373 63.5032638,92.7252608 63.4378717,92.4945348 C63.3299211,92.1664029 63.2233674,91.8309887 63.1142866,91.4928784 L62.9482798,90.9842639 C62.1601595,88.6066434 61.1520866,86.2092647 58.5782165,85.3651175 C55.4349527,83.7531485 54.2337748,83.804863 50.835473,83.9863825 C50.1749339,83.9201395 49.5056005,83.920053 48.848109,83.8993846 C48.2353733,83.3811158 47.4307277,83.7899021 46.8221715,83.5236332 C46.1482232,83.2287397 45.5328752,83.5558034 44.8939304,83.4408728 C44.0399142,83.4669894 43.2825495,84.3502862 42.8972496,85.0586359 C42.0888598,86.5286928 42.6301954,88.2724559 42.2253039,89.8372938 C42.0016123,90.8637134 41.9235074,91.951533 41.2775096,92.8555847 C40.9326988,93.3380512 40.8586864,93.9428855 40.5578477,94.4530253 C40.3238814,95.175817 38.690558,95.3636494 39.0549603,94.5884514 C39.9061902,92.8553253 40.9503748,91.160077 41.245989,89.2226009 C41.0204689,85.8273479 41.5858366,82.2436571 45.7927023,82.2459045 Z M45.3988953,79.050283 C46.2782499,79.0587471 47.325482,79.0764753 48.3508588,79.4600098 C48.9006404,79.6655704 49.5519496,79.5910255 50.1194072,79.7651078 C50.9205698,80.0107947 51.6837684,79.7134798 52.4649042,79.7336294 C53.1614045,79.751617 53.8570342,79.8184653 54.560065,79.6839904 C55.1371007,79.4850022 55.7404325,79.7790309 56.3242598,79.7452176 C61.606047,79.3738767 68.1953288,83.0908316 67.45564,89.0230333 C67.3940791,89.6767282 67.462693,90.2692825 67.6657482,90.8652959 C67.7534311,91.122571 67.7418504,91.3422278 67.4759281,91.4253341 C66.8158245,91.5891254 66.71212,89.4204044 66.6994073,88.9544554 C66.7051541,87.3229421 66.3766261,85.7984899 65.3751946,84.456076 C62.8510229,81.0970577 58.2215028,80.3493601 54.2574849,80.5702275 C51.6363134,80.7830524 48.9810092,80.8552623 46.4132137,80.2293272 C45.9843771,80.1303087 45.4925863,80.087761 45.0753305,80.1947356 C42.762486,80.4664527 40.8207485,81.1275848 39.3008818,82.9991638 C38.8093523,83.68918 39.7958072,84.4475146 39.6958469,85.2116432 C39.8617218,87.0665318 38.5000675,88.2766328 37.6219319,89.7364852 C37.3367665,90.1755392 37.0090221,90.5601979 36.6031728,90.891845 C35.9023188,91.5739915 35.5363491,92.5169588 34.9485164,93.2890436 C34.6968742,93.6897874 34.4003021,93.9063308 33.8924028,93.7725478 C33.554645,93.6835609 33.4343095,93.5321361 33.608021,93.2405288 C34.2509712,92.1613571 34.9031512,91.0951572 35.7039655,90.1116312 C37.0613532,88.527249 39.1008741,86.7671414 38.2662753,84.460227 C37.8820203,83.5411279 37.9650883,82.4425848 38.7524063,81.7882845 C40.4918722,79.9613287 42.7825129,79.040673 45.3988953,79.050283 Z M95.6044337,52.5596801 C95.7443607,52.6828262 95.7075286,52.8352022 95.6294238,52.990778 C92.7981441,55.6979174 92.8018012,59.3704221 91.2903806,62.7380883 C89.0998743,67.2804855 84.1193612,69.5185627 79.3731627,70.4042809 C75.7655363,70.8686732 73.7754731,74.4081732 69.9575644,74.2401445 C67.892531,74.0747101 65.5296193,73.8635283 63.4450814,74.4182048 C62.2266629,74.7300482 61.0124239,75.0486369 59.8105493,75.4284528 C58.989621,75.6878034 58.1221955,75.8798733 57.2010457,75.5844609 C56.6675468,75.4133189 56.0446235,75.3136086 55.4506956,75.5040354 C55.3252228,75.5441617 55.2012302,75.5177856 55.0727099,75.4654658 C54.1454649,75.0875524 53.1335846,75.0678352 52.1715103,74.819381 C51.640014,74.6822253 51.0156105,74.9096651 50.4449312,75.0505394 C49.5287446,75.2361234 48.612645,74.8715278 47.6919306,75.0808936 C46.2615753,74.6903543 44.7447562,74.6759988 43.3656001,74.0344109 C42.2204975,73.4922739 40.9286761,74.0253306 39.8180545,74.3332824 C38.4732924,75.7739365 37.1536075,77.319749 35.6924283,78.6816207 C35.0556603,79.3143877 35.0167385,79.5055064 35.4717842,80.2847689 C36.7025671,82.0626047 34.7700594,82.9571437 34.9087674,84.7964661 C35.1988961,87.6900542 33.7360624,90.5164482 31.4080672,92.2390239 C31.0513274,92.5016607 30.7338577,92.6496263 30.3079815,92.4671556 C29.9548117,92.3158173 29.9041349,92.1091324 30.1672708,91.838626 C33.4746837,88.8486775 33.7034325,87.5901595 33.6639368,86.3343629 L33.6550628,86.1187876 C33.6132512,85.2540125 33.5208226,84.3440688 34.2839285,82.8315761 C35.6059644,80.7869526 33.3619079,80.6531695 34.2223676,78.8435094 C35.0192636,77.2880977 36.4239322,76.1562602 37.6484458,74.9467646 C40.6726802,71.4515419 42.961057,72.6890567 46.814927,73.7441873 C47.7132636,73.9829559 48.6533954,74.1287595 49.5836879,73.8630959 C50.9952353,73.7869079 52.4029514,73.6263164 53.8091873,73.9819181 C55.7980315,74.5166179 58.0433941,74.7648127 60.0730757,74.3156407 C62.2900523,73.6969697 64.5322802,73.110469 66.8445152,73.0799419 C69.9446775,73.582385 72.0982647,73.6903973 74.6418537,71.5105206 C75.7712832,70.6126953 77.1068155,70.0764389 78.5173179,69.7229991 C83.2683926,68.6702035 88.4724232,66.8526738 90.6071154,62.0821449 C91.7433366,59.6769038 91.8269271,56.8628763 93.3420048,54.6409707 C93.8659256,53.9004509 94.5246361,53.2675973 95.1811697,52.6404515 C95.2886184,52.5378009 95.4451764,52.4194111 95.6044337,52.5596801 Z M95.920754,42.0638851 C95.9904128,42.676762 96.1627311,43.2437185 95.5879594,43.8446612 C94.0734912,45.4280057 93.1261323,47.3937604 92.262451,49.3768974 C91.70283,50.726835 91.4282875,52.2021671 90.8211245,53.548732 C90.1557093,55.344469 89.7605701,57.2309224 88.8249661,58.9339538 C86.2623951,63.3619393 81.1309837,64.9498672 76.9148011,67.366437 C73.8900443,68.7408482 71.1656038,71.1682279 67.7715685,71.4780823 C64.6867311,71.3935923 62.0080911,69.4864703 58.9645265,69.0806243 C57.4273321,68.9957883 55.9262733,69.667125 54.4035331,69.8598003 C53.5394164,69.9998963 52.7320716,70.4537382 51.8761398,70.6817834 C47.1911539,72.1788218 41.8851603,71.2615388 38.5125451,67.5545289 C38.335699,67.3730959 38.2028249,67.1866472 38.1984712,66.9185622 C38.2409631,66.1156044 36.8142649,66.2244815 36.9205816,66.9822107 C37.4353597,70.6055954 36.2219915,73.5943105 32.9375817,75.4439239 L32.351628,75.8219879 C31.4758455,76.3947379 30.6278402,77.0082272 29.9913651,77.8689687 C29.9370652,77.9517657 29.8484157,78.022196 29.7467803,78.0750779 C29.7547912,78.1078278 29.7553429,78.1423887 29.7489353,78.1767994 C29.4631603,80.1818156 30.5286778,82.4333835 30.6365618,84.3228637 C30.6053024,87.0895871 28.9425482,88.9363467 26.8251836,90.3680069 C26.6589605,90.536987 26.476977,90.5903445 26.2973445,90.4122842 C26.0996007,90.2162363 26.2040018,90.0265013 26.386856,89.9043064 C30.1545233,87.2100524 30.7647339,84.8405271 29.0124682,80.6263178 C28.8608733,80.0827971 29.0143838,78.7484258 29.0420732,78.1837177 C29.0449109,78.1258587 29.0490743,78.0645749 29.0585448,78.006204 C29.0478968,77.9376775 29.0702789,77.8451273 29.1383938,77.7266242 C30.0715597,75.8628283 32.2065132,75.1337236 33.7140155,73.8283227 C35.2618327,72.5518058 36.1063579,70.9046399 36.1239468,68.8854411 C36.1382268,67.9595102 35.7171397,66.9697578 36.172882,66.0926875 C37.0012116,64.5799964 38.4322634,65.7747041 39.1433921,66.7773419 C41.3303284,69.1895878 44.6439077,70.5354609 47.8934011,70.5085659 C48.4984743,70.5028583 49.0545253,70.3324082 49.6209379,70.1623039 C51.1125929,69.6826912 52.7196201,69.558075 54.1961242,69.0638473 C54.8294428,68.57872 55.5639649,68.4385272 56.3051836,68.3235767 L56.7992843,68.2471742 C56.9636239,68.2206144 57.127257,68.1917929 57.2891466,68.1572012 C58.0782931,67.9885671 58.8557718,68.3222032 59.6502297,68.2421236 C60.0144579,68.2054565 60.379818,68.189112 60.7603289,68.2359836 C61.4940096,68.3261813 62.0192365,68.8407315 62.6823878,69.0425735 C63.7838667,69.3777662 64.7827731,69.982514 65.9428524,70.1741515 C68.0509001,70.6074979 70.1348285,70.0068146 71.8188286,68.7405887 C71.8812603,68.683945 71.9717296,68.6050761 72.0386891,68.6139835 C72.8198248,68.718796 73.2296794,68.0567126 73.8168156,67.7681321 C76.7839298,66.0830883 79.9293703,64.7064287 82.7999201,62.8505024 C84.32118,62.3312823 85.3932281,61.2776219 86.3910025,60.0881894 C87.561966,58.8522312 88.5364918,57.4210033 88.8308871,55.7305978 C89.8567862,52.3823894 90.8853847,48.9776237 92.573129,45.9019107 C93.1978808,44.7549394 93.9013471,43.6289825 94.8315525,42.6744271 C95.0395709,42.4609968 95.1841128,42.1878961 95.3797668,41.9608886 C95.6238336,41.6777563 95.8813098,41.7164989 95.920754,42.0638851 Z M90.4196028,70.0963031 C88.811966,72.0879151 86.0674986,72.9356689 83.8926655,74.2218715 C81.9680815,75.1387221 80.0766725,76.1776811 78.050735,76.8497096 C76.8852571,77.171671 75.8393311,77.79432 74.6816027,78.1436952 C74.2186333,78.2834453 73.7459117,78.3247823 73.2872088,78.3813396 C72.629282,78.4624569 72.0135858,78.746627 71.1760265,78.7308878 C70.2057672,78.6038501 69.0583136,78.6926641 67.9162585,78.4345242 C67.141392,78.2594042 66.3287357,77.9973727 65.4957913,78.2130514 C64.5484323,78.2957254 64.3786392,79.6632182 65.2291724,80.0203765 C66.0369526,80.3885178 66.8574456,80.7567454 67.7826878,80.7045121 C68.1407338,80.684276 68.452892,80.8003309 68.7700134,80.9482965 C71.8195862,81.9215314 74.1881576,84.3333449 74.5494253,87.5749247 C74.5441138,87.9332073 73.535194,88.9861759 73.3986628,88.1729272 C72.9064367,85.6947842 71.5650705,83.1543764 68.9898739,82.3688874 C67.1678623,81.5034053 64.5891827,81.7801382 63.5711202,79.7306718 C62.9986994,78.6114603 64.2623961,76.9879031 65.5225228,77.1452949 C66.5126348,77.2309091 67.5364442,77.0800032 68.4838902,77.5123119 C70.0419821,77.602423 71.6327266,77.5887593 73.1850717,77.2640306 C76.4180211,76.536569 79.5370784,75.3565628 82.515338,73.9387391 C85.15732,72.8001563 87.8329995,71.6662433 90.0743566,69.810317 C90.3680553,69.4861936 90.6600125,69.6679725 90.4196028,70.0963031 Z M92.6453999,30.0124018 C93.4314988,31.4395651 94.0881196,33.0372651 93.9527204,34.6813178 C94.1258224,39.9419234 92.6697805,45.4383572 89.0004191,49.3625159 C87.3913891,51.4387043 88.7950999,53.4567789 86.4565688,55.9943329 C83.2062918,59.9871559 78.3961814,62.2183148 73.6057496,63.8308891 C71.0175789,64.7978111 68.3928375,65.9314646 65.5801045,65.9522196 C64.6725381,65.9309458 63.815039,65.6747084 63.0018602,65.3236901 C60.4269247,64.404591 57.8997055,66.2635441 55.2733967,66.0729443 C52.3977096,66.0242566 49.6462763,64.5176191 46.7581377,65.4396584 C45.1614722,65.9147742 43.2704115,65.9844763 42.0119392,64.7078729 C40.9710634,63.8551897 40.2681196,62.6836584 39.2538883,61.7984591 C38.3623434,61.0203208 37.4200348,60.3117982 36.442026,59.6497148 C35.9880251,59.3423683 35.6884926,59.3911425 35.2918731,59.797248 C33.216652,61.7638675 33.1836512,64.6835723 33.0854324,67.3333761 C32.8932613,70.4055435 30.4888156,71.3076926 28.0557228,72.481213 C23.1919751,75.5068546 27.8085213,82.6346288 22.8722415,87.6979757 C22.6507267,87.9172 22.3893322,88.321403 22.0685537,88.055307 C21.9200064,87.8835597 21.9651976,87.7240059 22.1105231,87.5686031 C27.03975,82.6834895 22.7929176,76.6798561 26.7497084,72.6614353 C28.4538225,70.9920442 31.9243082,70.8047306 32.2111281,67.9804122 C32.3566278,66.0686204 32.0602298,64.1413488 32.7552499,62.2879304 C33.2729885,60.9232914 33.9306541,59.4482186 35.228919,58.6640269 C36.7131727,57.9083731 38.3564224,60.0573769 39.5133671,60.7844925 C40.6334797,61.6161613 41.6000819,62.5816131 42.4123899,63.7029867 C42.9848106,64.493232 43.7230192,64.6567638 44.6787371,64.5839485 C45.0752695,64.5537097 45.4630462,64.4779925 45.8478753,64.391222 L46.6153243,64.2131433 C47.1266314,64.098199 47.639582,64.0044045 48.1679436,64.0133599 C49.4672533,64.0353256 50.7717004,64.0902397 52.0469778,64.3578923 C53.8121304,65.1665577 55.8682824,65.2728404 57.7359204,64.6513156 C58.4257161,64.4050234 59.1483385,64.1579528 59.8614699,64.1492184 C60.533938,64.1410029 61.2206861,64.0884237 61.8947215,64.0949096 C62.8524422,64.1040764 63.6520375,64.6143026 64.5705751,64.6217398 C65.4081344,65.1446785 65.9262213,65.1123353 66.8316109,64.9084178 C68.6525775,64.6018496 70.3344879,63.8363373 72.0823128,63.2861578 C75.6235892,62.0201048 79.2239014,60.7199792 82.1644582,58.3184567 C84.4411672,56.6942941 86.9606369,54.7066602 86.9027331,51.6185807 C87.1285145,48.7332945 89.8721112,46.952432 90.7372728,44.2951045 C92.1960139,41.4850551 92.5237583,38.2599063 92.6623792,35.1356786 L92.5781394,33.7139387 C92.5062175,32.5296262 92.4178646,31.3472549 92.222136,30.1725609 C92.1834754,29.9405377 92.0421552,29.5436854 92.2830003,29.4726862 C92.5448301,29.3954604 92.5294181,29.8172186 92.6453999,30.0124018 Z M20.1394419,48.0123103 C21.8167374,48.1614001 23.5611665,48.5211528 25.0077173,49.4223508 C25.8120146,49.9127733 26.7319454,50.213115 27.4570929,50.8350721 C27.7620911,51.0966645 28.0996598,51.316837 28.4440257,51.5278706 L28.9624509,51.8416017 C29.5657105,52.2090401 30.150321,52.5979204 30.5781529,53.181248 C31.2925904,54.1555207 32.0086823,55.1410357 32.2731243,56.364368 C32.3077796,58.3317658 32.1317171,60.2344773 31.2984244,62.043359 C29.4439344,68.161923 26.9222879,66.8041158 24.1187847,71.1739874 C23.036462,72.8592907 22.3097471,74.700775 21.5642244,76.5388002 C21.1577505,77.5743527 21.2473206,78.4134824 21.3874741,79.2171005 L21.4415328,79.517107 L21.4951134,79.81567 C21.7187198,81.109039 21.7818247,82.4148619 19.7729498,84.4236118 C19.3635305,84.7362334 18.499588,85.7903263 18.0623923,85.1879998 C17.8921637,84.9033109 18.1990105,84.797893 18.3799491,84.6813192 C20.0701314,83.6474625 21.4171574,81.5976502 20.8537052,79.576203 C19.8020323,76.3783816 22.051052,73.4138806 23.3654254,70.6449952 C24.0656699,69.4752799 24.9133297,68.3840011 26.091085,67.6305959 C28.4493817,66.1114188 30.031506,63.7431908 30.5715354,61.0221282 C30.6797676,60.2065446 31.3099181,59.5509471 31.333602,58.7306935 C30.9860049,57.5070153 31.4842391,56.0132631 30.6202965,54.9795794 C30.2885467,54.6039145 29.9262342,54.2500423 29.7524356,53.7589279 C29.7121206,53.6449486 29.6176459,53.5182568 29.5129837,53.4636021 C28.8673342,53.1257285 28.3850345,52.5393142 27.6971544,52.2747749 C24.9417157,50.7507551 22.6821602,49.0479831 19.3630952,49.1261601 C17.5736491,49.2015698 15.7416241,49.6875819 14.1423465,50.4487703 C13.2931193,50.9186973 12.3907773,51.2255249 11.47015,51.5192077 C7.94890046,53.1042817 4.10722073,53.9716663 0.725201642,55.8958246 C0.254918047,56.2258286 -0.182277644,54.7073434 0.482876287,54.5454547 C3.34158407,53.1433702 6.35371523,52.0800241 9.39701868,51.1716485 C12.8440816,49.7591001 16.2898385,47.7917023 20.1394419,48.0123103 Z M83.3173786,79.5905042 C83.4362097,80.7170312 80.4162257,81.0727107 79.4314768,81.0410522 C78.8444377,81.1477339 78.1894211,81.0780852 77.5364059,81.1155601 C77.1399563,81.13831 76.7034021,81.137721 76.3137724,80.9527765 C75.9973836,80.8043497 75.567427,80.7871216 75.3979648,81.1281498 C74.7800875,82.2917099 80.5697165,83.2436443 78.9824353,84.2319046 C78.4281619,84.6132054 78.4257156,84.615635 77.9617331,84.1532001 C77.7148787,83.9070738 77.4153176,83.7504747 77.1093071,83.5905625 C75.48118,82.7945354 75.4290255,83.1570911 74.3123985,81.6333605 C73.6903699,80.5638188 75.0886926,79.7370168 76.0738863,80.0083963 C76.5466903,80.1148572 77.0469226,80.1507859 77.5388522,80.1954023 C79.3288061,80.2641675 78.5074984,80.3159254 80.2739529,80.0083963 C81.1993233,80.0738484 82.0581987,79.8987696 82.9161105,79.5819638 C83.0565877,79.5399243 83.2262723,79.4435499 83.3173786,79.5905042 Z M22.680558,51.5240073 C24.2585027,52.2441181 25.5617307,53.2796179 26.6201954,54.6522995 C27.7784461,55.3072916 28.1749785,56.4968106 28.624974,57.6033097 C29.6277116,61.0931708 24.4544179,65.6869366 21.9365156,67.5855835 C20.2097624,68.9242788 18.5983815,70.2277772 19.1443319,72.6435687 C20.1875587,76.0262823 19.5721236,79.5532428 16.8394982,81.9698991 C16.4829325,82.2725757 16.1348129,82.6257561 15.723391,82.8490449 C15.2330805,83.0598808 14.8793882,82.5341748 15.4050505,82.2517343 C18.3769537,80.3961539 19.7829284,76.3950288 18.4211,73.1479144 C17.1122122,69.8312709 20.3946193,67.4677126 22.7534385,65.7761829 C23.4652638,65.248142 23.9373759,64.5238802 24.5064878,63.8788331 C25.0000201,63.3053907 25.7101909,63.0183668 25.9589597,62.2416122 C26.3531412,61.2245324 27.4283239,60.5276844 27.5241046,59.3908312 C27.4845733,58.9703701 27.7760951,58.5335646 27.7410046,58.132129 C27.4690742,57.6789789 27.4858794,57.1035474 27.122522,56.6938963 C26.2277554,55.6851185 25.3286352,54.6873235 24.3151005,53.7830988 C23.1801854,52.7695646 21.6747728,52.0609555 20.160653,52.1713028 C17.6747936,52.1811614 15.6189899,53.454738 13.2828969,53.9897837 C11.1607432,54.7607442 9.02988227,55.5877431 6.95344218,56.4996644 C6.05763074,56.8770589 5.12463893,57.1842324 4.2710581,57.6390256 C3.36305637,58.1228757 2.32644719,58.2701495 1.45057556,58.808222 C1.28095652,58.9124292 1.13127729,58.8874368 0.992308096,58.7527024 C0.642795348,58.4140506 0.720464848,57.7148677 1.17403034,57.5591189 C2.19853632,57.2074088 3.0716216,56.538407 4.09003244,56.200447 C5.93825306,55.6014068 7.67928629,54.7824504 9.48762729,54.1002174 C10.4634157,53.7172018 11.4594922,53.3812308 12.4597809,53.0570425 L14.4612112,52.4139285 C14.7941312,52.3058785 15.1263285,52.1965258 15.4572075,52.0845643 C17.751157,51.3011508 20.3217388,50.4588451 22.680558,51.5240073 Z M23.0913618,55.6230871 C23.6542044,56.757346 25.2432945,57.7418232 24.6337805,59.1434752 C22.5396645,63.8955841 18.9082671,62.4482711 16.6225025,65.6643396 C15.7805895,66.8616417 15.3084774,68.1907378 14.9953613,69.5876335 C14.8033644,71.1609464 16.2512214,71.5300389 15.7944342,73.9154763 C15.6471059,75.3834577 15.2792207,77.1762544 13.5491587,77.4179633 C12.9156995,77.4420909 10.6775641,78.4114343 10.4737252,77.6716062 C10.4551785,77.4491822 10.6352464,77.373513 10.841175,77.3302735 C11.8836182,76.9975887 13.9219201,76.9887679 14.5402285,76.0667285 C15.2121742,74.68955 15.5998251,72.8868083 14.7711472,71.4990794 C13.3243351,69.2275348 14.8670151,66.3393949 16.3572768,64.4834685 C16.8107553,63.8292547 17.3418161,63.07559 18.2190809,62.9839222 C18.5109511,62.9530492 18.7453527,62.787096 18.9692185,62.5931235 C19.4206942,62.2021518 19.9808376,62.0019529 20.5436803,61.8486256 C21.0579359,61.7085296 21.4750177,61.4660424 21.7716769,61.0312258 C21.8656291,60.8934648 21.9850068,60.8055156 22.1288521,60.7319219 C23.1078186,60.2402022 24.1871809,58.4693712 23.1759101,57.6170339 C22.1188386,56.5775561 22.5015263,55.3225725 20.5684962,55.4606795 C19.4573522,55.4827316 18.368586,55.7542758 17.2710254,55.8208646 C15.7981783,55.9102839 14.4714405,56.5577524 13.020623,56.7147118 C12.1735727,56.8063796 11.4293561,57.3443656 10.5890104,57.5543367 C9.4823071,57.8308966 8.49219513,58.3949993 7.47648357,58.8880162 C6.16228429,59.5258855 4.85531211,60.179148 3.55844044,60.8511765 C3.3803083,60.8944327 3.12393643,61.0912867 2.85530777,61.2912182 L2.67513027,61.4233101 C2.22376744,61.7464206 1.7790882,61.985166 1.64656914,61.442693 C1.46484689,60.7876144 1.53119685,60.6461347 2.11441468,60.2261061 C3.02711837,59.5688655 4.05771949,59.1318005 5.04478389,58.6099861 C8.49001829,56.7378017 12.3243839,55.6512792 16.1382872,54.8198699 C17.5945032,54.5497094 19.0510675,54.4819099 20.5298356,54.4154075 C21.6300955,54.2208297 22.4803675,54.6886812 23.0913618,55.6230871 Z M18.2160595,59.7524 C18.0615041,60.7965477 17.5904369,61.6103153 16.614692,62.1291895 C14.0929584,63.4202348 12.7443651,65.9285589 11.8340124,68.4920567 C11.6335694,69.3899684 12.2427351,70.1068795 12.6022613,70.8659059 C13.5496202,73.1093448 10.200689,74.0066511 8.68012571,74.7648992 C8.26809424,74.9215992 7.96420797,74.3685658 8.40236147,74.2085796 C9.49286911,73.6465525 10.7162508,73.2901724 11.6468916,72.4604062 C13.3937588,70.6925155 9.77681556,70.8154022 11.3183636,67.1574259 C11.6037903,66.1890338 12.2989845,65.4121927 12.6271643,64.468966 C12.7926909,64.0182373 13.0247416,63.6162828 13.4628951,63.3654936 C13.5748715,63.3013262 13.6856289,63.2167497 13.7246378,63.0860799 C13.9586041,62.1605814 14.9536793,62.0597468 15.5445596,61.4783483 C15.7887135,61.1991941 16.2086686,61.3249346 16.4900899,61.026236 C17.6834313,59.7916614 16.9482703,58.7803757 15.3469899,58.8843235 L14.796473,58.970162 L13.6866738,59.1181628 C12.7848543,59.3445649 11.8972277,59.6525167 11.0785633,60.0672701 C10.6024458,60.3886262 10.1280698,60.71102 9.55556198,60.863396 C7.92189029,61.8314422 6.39401281,63.0033195 4.97027516,64.262627 C4.51070159,64.6574038 4.10041159,65.1089972 3.67070422,65.5375873 C3.32484855,65.8825521 3.20729942,65.8576461 2.99518855,65.4095983 C1.98679115,63.7903651 8.56127048,59.9852015 9.89488713,59.4343301 C11.3907216,58.71543 12.932792,57.7906233 14.6369061,57.8203721 C16.1512872,57.7240344 17.9453482,58.0622539 18.2160595,59.7524 Z M10.981311,65.2987755 C10.7232254,68.1149649 7.10166728,68.0260645 7.56202451,70.0422364 C7.69585637,70.8264282 7.96203984,71.7124058 7.38117299,72.38184 C7.14041496,72.8081816 6.6169295,72.5327459 6.78837708,72.0920488 C7.53085222,69.8503395 5.12527457,69.4187227 8.70852036,67.2092701 C9.308108,66.8202874 9.68731278,66.2410509 9.88383752,65.5711844 C10.0141864,65.0184105 9.60624742,63.6308545 8.85253981,64.261719 C7.5636789,65.4351529 6.41875037,66.7426292 5.48732589,68.2144158 C5.38039972,68.3505338 5.41836374,68.6052145 5.15505368,68.6144677 C4.8738065,68.6244128 4.80745655,68.3881521 4.70157526,68.2121673 C4.40003997,67.7105025 4.47126604,67.3112288 4.82243318,66.8401776 C6.32627839,64.8138876 10.3566462,60.0756153 10.981311,65.2987755 Z M87.9215706,21.316685 C88.2328581,21.6186698 88.2812709,22.0233916 88.1886248,22.3997484 C87.6277848,25.0111555 87.731228,27.7591994 88.4009969,30.3426738 C88.8497733,32.5922527 89.9005755,34.7981596 89.3625487,37.1251372 C88.8026666,40.6658479 88.2032531,44.2657968 86.9119541,47.629312 C85.9942873,49.3187662 85.2444109,51.1648339 83.9023481,52.5719341 C80.6918637,56.130719 76.0661748,57.7739069 71.5220737,58.9244238 C69.8441687,59.4507352 68.1263841,59.7902518 66.3917072,60.0332579 C64.433774,60.333686 62.4983058,59.7179554 60.5291402,59.7813445 C59.3726309,59.738105 58.2143802,59.7374996 57.0614409,59.6155642 C55.9536927,59.4982987 54.8994947,59.9990987 53.7885248,59.892643 C52.7518285,59.7932786 51.7117364,60.0645633 50.6739082,59.8918647 C49.7525842,59.7385374 48.8353527,59.8288215 47.91072,59.8711962 C45.9823918,59.9741062 44.0465753,59.7003137 42.1505514,59.3759308 C40.7786224,59.1689 39.6910753,58.5041358 38.9172537,57.3665907 C38.1174842,56.0941383 37.0912368,55.0136694 35.9195767,54.0749396 C31.5812302,50.0928399 27.0036058,46.3136201 21.7743239,43.5402378 C18.0009097,41.4037735 13.8197307,39.3737648 11.8968881,35.2500125 C11.3813041,34.2657898 11.1061975,33.0559589 10.8448561,31.8273643 L10.6701799,31.0077913 L10.570438,30.5595909 C10.0082794,28.1053473 9.18451597,25.8645478 6.2397274,25.5336617 C5.64519002,25.5231113 5.79817804,24.7563883 6.39297664,24.883253 C9.90269819,25.4846579 10.7683345,27.7404008 11.3742828,30.3078834 L11.4821245,30.7778347 C11.9416384,32.8265857 12.3296545,35.0183395 13.8123295,36.6964607 C15.7261881,39.119144 18.3279124,40.6379412 21.0034388,42.071465 L21.8076967,42.4997825 L22.7396295,42.9957963 C24.2905044,43.8264933 25.821702,44.6878172 27.2140623,45.738621 C28.8573991,46.92814 30.4531939,48.173265 32.0073675,49.4765039 C33.9959505,51.1439925 35.9097374,52.8938955 37.854,54.6102447 C39.7943444,56.623044 40.3389016,58.6726834 43.5776849,58.8385502 C44.6726333,58.92771 45.7864766,58.967231 46.8999716,58.8524733 C48.8997,58.820822 50.9211967,59.1263524 52.9298937,58.9468219 C55.2940244,59.026988 57.5765673,58.1355622 59.9362572,58.6004734 C60.358128,58.7115644 60.794951,58.7685471 61.2342191,58.8139362 L62.1123093,58.9018528 C62.771281,58.8863731 63.4218937,58.7283759 64.0866994,58.9121438 C66.0975731,58.9296126 68.1806308,58.8243676 70.0206665,57.9975417 C71.105079,57.5164588 72.3960297,57.8466358 73.4335967,57.1887033 C75.5498293,56.6763151 77.4753712,55.662608 79.4086625,54.6851356 C80.0506549,54.3539209 80.6698341,53.9550797 81.2123886,53.4551444 C81.7856801,52.927017 82.2340212,52.2126138 82.8357857,51.8033086 C83.5845011,51.2941777 84.0009055,50.6007889 84.3798878,49.885902 L84.6051456,49.4556922 C84.7178883,49.2405995 84.832571,49.0265017 84.9571556,48.8177932 C86.6436809,45.5189643 87.5469807,41.8300286 88.0297158,38.1800949 C88.2186651,37.5355667 88.5347416,36.9253707 88.4528055,36.2244582 C88.3898515,35.2225987 88.225631,34.244175 87.8719387,33.2926463 C87.3510654,31.8912537 87.0880166,30.4363306 86.9518338,28.9453457 C86.5090654,26.45622 86.5104585,23.8922034 87.2573744,21.4515923 C87.3036975,21.294287 87.284193,21.0595829 87.5439331,21.0186783 C87.7852136,20.980714 87.8080268,21.2065108 87.9215706,21.316685 Z M83.5115887,16.3506184 C81.207974,20.073281 82.1697,19.68352 83.2447086,23.4745875 C84.0499637,26.0942966 84.5821565,28.782843 84.9058084,31.4980249 C86.4329022,40.2685546 83.5124594,48.5098327 74.614948,51.7361057 C71.066967,52.8757263 67.3368283,53.3205744 63.6635486,53.8679866 C61.0408969,54.1680688 58.5850779,55.2930745 55.9605106,55.639423 C54.5742145,56.016385 53.2511337,56.403984 51.7679249,56.3239044 C50.816996,56.4418618 49.9109969,56.0668023 48.9725195,55.849567 C46.3167799,55.0865626 44.851247,52.6124841 41.8688079,52.4425529 C39.2831624,52.233879 38.7703869,49.9865486 36.735568,48.9863322 C36.5412806,48.8845952 36.3454342,48.7841197 36.1488895,48.6839744 L35.5580212,48.3835979 C33.6857561,47.4296455 31.8281549,46.4214583 30.7232347,44.5606816 C25.5280856,37.2771587 18.086442,39.4214061 16.0826211,35.622469 C14.8642897,33.2298539 13.8710431,30.7409875 12.7981243,28.2845509 C12.4167426,27.444636 12.3154799,26.5334284 12.2506814,25.649504 L12.2261292,25.297623 L12.2027164,24.9599121 C12.0692226,23.1160489 11.8097513,21.5151458 9.04595602,21.1194177 C8.84490347,21.1027273 8.59413199,21.0664061 8.62068939,20.8017803 C8.64454751,20.5648278 8.88678579,20.4148731 9.09523958,20.4517132 C11.0782499,20.6948057 12.9807172,22.165468 13.0439326,24.2907765 C12.949545,28.0479442 15.2916461,31.2157574 16.5498571,34.6264901 C17.1394313,36.0005553 18.1911913,36.7223958 19.6310375,37.0449625 C26.6540773,38.6988246 28.7106427,40.7508245 30.3474118,42.7932596 L30.5635592,43.0654918 L30.7771261,43.3373959 C30.8836637,43.4732301 30.9901316,43.6088608 31.0978773,43.7441671 L31.3154711,44.0143113 C32.2325365,45.1378119 33.3006942,46.2331936 35.299553,47.2305485 C36.8469349,47.9107061 38.2348854,48.795473 39.3665787,50.0585856 C40.2596038,51.0553428 41.4299578,51.5602074 42.714378,51.7995813 C46.0400605,52.1130678 47.5958886,55.1597238 50.8042833,55.3494588 C53.5836671,55.6561999 56.182809,54.5842924 58.7636655,53.7275447 C59.175784,53.5620238 59.6222095,53.586065 60.0412939,53.5690286 C60.6810224,53.5429985 61.2780849,53.3261091 61.9065809,53.2823507 C62.5227125,52.9393749 63.1536466,52.7357168 63.8613794,52.7033736 C64.7900176,52.5825624 65.6974969,52.310067 66.6422436,52.3090292 C68.2112197,52.3574575 69.6068326,51.5104819 71.1449848,51.4568649 C72.1314397,51.5899562 72.8678197,50.7524068 73.820403,50.772297 C75.2889835,50.3218277 76.6081459,49.3553382 77.9666656,48.6210448 C78.56129,48.2586112 79.1554791,47.8869243 79.6016434,47.3834434 C80.3086796,46.6271844 81.1223808,45.9446919 81.5143854,44.9422271 C84.2032129,41.7877317 84.599397,35.2072833 83.6986224,31.3027553 C83.8078995,28.7907991 82.4982281,26.4889004 82.1512405,24.0218268 C81.9634231,22.7376997 81.3999709,21.5696275 81.0301701,20.3420578 C80.5193973,18.6149852 81.7248419,17.0880251 82.6565276,15.7469083 C83.0271992,15.02256 83.8561382,15.7296125 83.5115887,16.3506184 Z M79.3975258,12.3095401 L79.1240272,12.4424377 L78.5745125,12.7067544 C77.6597643,13.1510086 76.7635881,13.631791 76.0813343,14.4175528 C75.5001191,15.099094 75.6999526,15.8524992 76.3691119,16.2981256 C79.7379021,18.3459737 80.2799715,21.6273457 80.3630827,25.0636836 L80.3730909,25.6376565 L80.3770359,26.2133896 L80.3773536,26.7897731 C80.3772396,26.8858296 80.377076,26.9818669 80.3769135,27.077862 L80.376851,27.940053 C80.37986,28.8953886 80.3982048,29.8395642 80.4826349,30.7494625 C80.5605975,31.236466 80.6503986,31.7252134 80.742979,32.2145792 L80.8548296,32.8020428 C81.4896379,36.1318689 82.0853934,39.4694653 79.7935358,42.4608844 C77.4526537,45.9973576 73.4619043,47.8699744 69.4946646,49.0307824 C65.9858666,50.1129809 62.4869079,51.3399453 58.8816326,52.0428468 C56.2498381,52.5403606 53.4067165,53.0911455 50.9974818,51.5404037 C50.1135994,51.0109791 49.1097298,50.6910932 48.0930605,50.6344494 C44.1326996,50.5257453 41.0959267,48.1423834 38.3478022,45.579318 C34.8908999,43.1265999 32.7781502,39.2226773 29.1358687,36.9641046 C26.2836914,35.1503801 22.8996696,36.2098346 20.2811974,33.6378619 C18.2459431,31.9645793 17.2206534,29.4691405 17.0769823,26.8899901 C16.9085823,24.6596961 15.3378647,22.8180387 15.4065656,20.5557475 C15.4400889,20.1021982 15.6316088,19.5033965 15.826836,18.8758076 L15.910282,18.605418 C16.4069218,16.9765802 16.7823325,15.2674088 14.4131448,15.4581549 C14.2549697,15.4701137 14.0781218,15.5159935 13.8998655,15.5692383 L13.6335828,15.6513099 C13.2828855,15.7592519 12.9610834,15.8435425 12.8062918,15.6917347 C12.8756022,15.1425929 13.641413,14.9151531 14.1195332,14.8376679 C15.9443311,14.5086152 17.1400234,15.4274548 17.0049725,17.1962103 C16.9369682,18.4064843 16.3629801,19.5074487 16.2843528,20.71435 C16.2528323,21.8065801 16.6871545,22.7811987 17.1121599,23.7450939 C18.3973638,26.5055044 17.6872799,29.8869207 20.0361728,32.1706588 C23.0316729,35.7209687 28.1479335,33.9863724 31.3380428,37.4236542 C33.9832465,39.7983682 36.0499344,42.7454869 38.8745964,44.938422 C41.1463422,46.6613436 43.202233,49.125131 46.2247259,49.3874219 C48.2184462,49.5574396 50.1241353,50.0337661 51.9050481,50.9820086 C52.6569272,51.38232 53.4802936,51.6209156 54.361912,51.5842485 C55.9961062,51.4540976 57.5962546,51.0284479 59.2196516,50.8742557 C60.1273921,50.7849229 61.0050052,50.6530424 61.7876212,50.143508 C62.1454059,49.910447 62.5829499,49.9152034 62.9805272,49.799235 C63.7808191,49.5659146 64.5659602,49.2402346 65.382709,49.112678 C67.0245656,48.8945779 68.3978877,47.9525619 69.9962076,47.6503177 C70.6152126,47.5291606 71.2302993,47.4252128 71.7580514,47.0256797 C72.1264591,46.7468713 72.6153764,46.7154795 73.0303683,46.5432997 C73.59443,46.309374 74.1207018,45.9631984 74.6225931,45.6084615 C76.2905717,44.4026844 78.082717,43.2507838 79.055066,41.3760915 C79.3572108,40.9168879 79.6024967,40.4395237 79.7015863,39.8976461 C80.7235671,38.558086 80.3387896,37.0514485 80.1346024,35.6107079 C79.931286,34.1767127 79.4491604,32.7848328 79.3436274,31.3287855 C79.2710952,29.496122 79.2320863,27.6607776 79.2165872,25.8264711 C79.5025364,24.0414575 79.1944706,22.3822709 78.474025,20.7504117 C77.9050872,19.316849 77.0266034,17.9697652 75.6760074,17.1497711 C74.1921891,16.203777 74.1381165,14.3086757 75.4921954,13.1867833 C76.4189179,12.4190225 77.5292783,12.0247646 78.5586604,11.4662831 C78.9713885,11.2282063 80.2203697,11.942696 79.3975258,12.3095401 Z M3.76403823,29.6591695 C4.93918124,29.9944487 6.09003076,30.4155151 7.11375307,31.0692965 C8.40011465,31.9365754 8.96590562,33.2410199 9.49851645,34.5998612 L9.74448386,35.2294874 C10.2417188,36.4908897 10.8007904,37.7484655 11.9623499,38.7011569 C13.20036,39.9455901 14.6550087,40.774751 16.2734425,41.3982647 C17.0822676,41.7099351 18.2413021,42.96587 18.121489,44.0416691 C18.0486086,45.6279538 16.5352723,46.4607468 15.2053998,46.9560987 C14.1548589,46.9947548 13.2971856,47.62069 12.3190898,47.8778786 C11.0910932,48.7271026 9.72691378,49.3174085 8.21410001,49.5218449 C6.10108908,49.8508976 4.00749554,50.2394478 2.14055412,51.4185893 C1.63152285,51.7400319 1.09349613,52.0086357 0.65229506,52.4265888 C0.411014585,52.6992572 0.0522720539,52.2934111 0.196552727,52.0314662 C0.580372406,51.1830205 1.53809306,51.7058726 1.55759751,51.2010081 C2.00262981,49.7991831 5.35739492,49.1286248 6.70389844,48.8825054 C8.67968164,48.5745536 10.5728322,48.0549012 12.2927065,46.9843773 C12.9587312,46.5697969 13.7503158,46.410416 14.507158,46.1932672 C15.4442423,45.9244904 16.3372674,45.5587706 16.9264062,44.728399 C18.0602764,43.0366099 14.663716,42.1409466 13.6951983,41.3914329 C10.9791168,40.1852235 9.1035551,37.6066784 8.3045693,34.8186811 C8.05109855,34.1687048 7.8779095,33.4253311 7.47084121,32.8579422 L7.25970351,32.6980076 L6.83929898,32.3745136 C6.20711731,31.8915715 5.55751143,31.4367459 4.75092848,31.2499512 C4.04746224,31.0784633 2.63208364,30.605596 3.45544999,29.7139108 C3.5534076,29.6252698 3.6366498,29.6227619 3.76403823,29.6591695 Z M75.3453374,9.16332073 C73.5433527,9.74791893 71.6977443,10.4272117 70.2520642,11.6816764 C68.6421635,13.0676757 70.709548,14.6884656 71.4912932,15.9324664 C73.1025,18.0748977 75.6642874,17.082205 76.3987517,20.2797669 C79.0625021,27.5517881 76.6888804,37.356607 71.016743,42.6568199 C70.3129285,43.2741072 69.7736827,44.0693683 68.9478783,44.5537373 C67.995295,45.1126513 67.1930004,45.8962377 66.1884343,46.3759369 C63.0817414,47.8748778 59.6562726,49.2203185 56.1599261,48.4672591 C54.49961,48.3599386 53.0084775,47.7404894 51.6820008,46.8260602 C48.1726804,44.5213942 43.3546463,44.3902055 40.7758796,40.7697611 C40.1981342,40.1011577 39.6381662,39.386732 39.0660671,38.6776573 L38.634251,38.1476541 C36.9666537,36.1259512 35.1369832,34.2542218 32.4345062,33.7485291 C31.713346,33.6190798 30.9538654,33.5196696 30.181527,33.4199492 L29.6650094,33.35309 C26.0399641,32.8800909 22.2581343,32.2534618 20.9072902,28.3888186 C19.9149143,25.7844163 19.8522215,22.9178096 19.9541844,20.174522 C19.9229251,17.5196159 20.8432042,14.9863859 22.5341702,12.9299146 C23.3072081,11.6719908 22.2631106,10.7421683 21.2470507,10.7438114 C20.5640685,10.747811 19.9012901,10.8716314 19.2429843,11.01431 L18.4541575,11.1881146 C18.3227086,11.2164368 18.1911869,11.243898 18.0594666,11.2696903 C17.9035181,11.2763492 17.6968928,11.4762022 17.6018087,11.2359635 C17.5234426,11.038186 17.7634169,10.953696 17.8826205,10.8478456 C19.8223553,9.58040906 24.8660837,9.75942065 23.3326335,13.1769852 C22.3396481,14.9095925 21.0586238,16.4197757 20.971028,18.5180163 C19.5446781,37.2991849 29.1157024,28.9361444 36.956926,35.0646534 C37.9298171,35.9101114 38.7703856,36.9249549 39.5974817,37.9574486 L40.3414396,38.8873617 C41.834916,40.7403316 43.4002643,42.5030016 45.730619,43.2904517 C46.7322246,43.6352436 47.7514191,43.9384391 48.7533731,44.2869495 C51.0908593,45.2666704 53.0779621,47.0398363 55.7157646,47.2343277 C56.9740627,47.5141738 58.2426355,48.0189518 59.4948385,47.3926708 C60.9838812,47.0837677 62.4929508,46.7460671 63.9460322,46.2509747 C64.8236453,45.9798629 65.563247,45.3889518 66.3052868,44.8455176 C67.1338776,44.2693943 68.1819804,44.0826861 68.7904496,43.1954978 C68.9844492,42.9808568 69.1720053,42.7598164 69.4432391,42.6370162 C70.0708644,42.3529326 70.382326,41.7502603 70.786695,41.2608755 C72.6131473,39.1077208 74.1568721,36.7587775 75.0768029,34.0998934 C75.4744051,33.6411098 75.5719629,33.0554527 75.6472989,32.4579235 L75.7039753,32.0093474 C75.7447699,31.7112086 75.7973729,31.4172893 75.8965122,31.1419648 C76.2135466,29.5279203 76.3262196,28.2200116 76.2708409,26.457742 C76.4786851,24.3211047 75.7120907,21.9855657 75.0755839,19.8186608 C74.9125824,19.0765843 74.2663234,18.7559201 73.6026498,18.5684335 C70.975209,17.9963748 69.8240112,15.859997 68.6560953,13.6710399 C67.6023326,11.6489873 70.143919,9.98729287 71.7380593,9.2867263 C72.5643862,8.89514927 73.4682084,8.68448637 74.2893979,8.26800339 C74.7186699,7.9781257 76.4372382,8.81342659 75.3453374,9.16332073 Z M6.48215724,36.1212887 C7.76144008,37.6513621 8.70104946,39.5023591 9.68959411,41.2324585 C10.0982297,41.9464293 10.4478295,42.7349451 10.4095172,43.6147827 C10.215953,45.1217662 8.91368277,46.1254417 7.52103034,46.542876 C6.15249724,47.0856183 4.77612753,47.5500972 3.2982302,47.5773381 C2.39458215,47.7983784 1.47247453,47.9436632 0.56325377,48.1438622 C0.331551373,48.1947983 0.0961048185,48.2601764 0.0165197036,47.9965019 C-0.0668966423,47.7202879 0.181610927,47.5745707 0.402864512,47.5180135 C3.29291873,46.7589006 7.03028448,46.5172782 9.14904226,44.2453012 C9.45658561,43.3671067 9.29819904,42.5537715 8.74563105,41.8345255 C7.86845332,40.48208 7.21296454,38.9848687 6.2296443,37.7087842 C4.52605264,35.0637367 0.771359268,35.6207481 1.67091487,34.2132155 C1.92595295,32.9642854 6.01883952,35.5337502 6.48215724,36.1212887 Z M72.0609886,6.61561407 C72.3498982,7.76068284 66.6280419,7.89567659 65.7097655,8.09717272 C63.4287899,8.43089528 61.1787254,10.2803357 62.8502741,12.4938528 C64.416638,14.4158491 66.5199838,15.8047887 68.2719012,17.5531352 C70.0630016,19.0185223 71.4917025,20.8165077 72.8422984,22.6829845 C73.1396542,22.9834991 73.2929905,23.3723952 73.3749266,23.7905213 C74.2169267,25.5856529 73.8380702,27.3486143 73.2679134,29.1223856 C72.2205071,32.4651458 71.4388489,36.0508256 69.3379412,38.9278098 C67.4662107,41.0391087 64.9860982,42.5199755 62.4159518,43.6803511 C60.5964654,44.5838839 58.5858528,44.3752965 56.6121594,44.2287146 C54.1717524,43.8215713 51.9999669,42.485211 49.6860776,41.6641791 C46.4461623,39.9978148 45.3278782,36.2349394 43.5347751,33.3199045 C38.9706471,27.7708914 34.8066216,30.7661789 29.0005653,28.53502 C20.9407874,26.434531 24.663786,17.8575414 26.3584962,12.3848028 C27.3256208,9.8346228 27.1143806,7.38052104 23.6519927,7.37100835 C23.517116,7.38155879 23.3838937,7.36841398 23.3382672,7.2108492 C23.2853265,7.0282055 23.4573836,7.00234827 23.55508,6.93930506 C24.0569713,6.6150952 24.5813275,6.76124475 25.0968892,6.89226047 C29.0690677,8.10201036 27.5827278,11.9632907 26.1753422,16.1131656 L25.9754222,16.707713 L25.8652734,17.041804 C25.8470721,17.0975335 25.828958,17.1532831 25.8109441,17.2090472 L25.7041696,17.5437609 C25.6866094,17.5995606 25.6691758,17.6553636 25.6518819,17.7111643 L25.5498992,18.0458959 C24.015084,23.1766494 23.8846266,28.1930861 35.3794777,28.7337488 C41.8812134,28.8404423 43.7578864,31.8383113 45.3950821,34.9497164 L45.6031228,35.3473198 C46.8130474,37.6677738 47.9936603,39.9856428 50.9560435,41.1538664 C53.2307498,42.0560156 55.4837748,43.4362208 58.0089043,43.3449854 C59.7423621,43.1599203 61.5424311,42.971396 63.1705301,42.3087073 C63.703942,42.1164644 63.9191004,41.5546966 64.4577367,41.3422177 C64.9633285,41.1178911 65.4130628,40.8082529 65.8527292,40.4839998 L66.5104016,39.995496 C66.7309246,39.8348991 66.9546543,39.6794855 67.1873145,39.5380923 C67.8603051,39.1290465 68.3351165,38.5812019 68.6717424,37.9220587 C69.1016239,37.0804449 69.5808761,36.2687527 70.0414074,35.4455589 C70.3518242,34.8601824 70.2426341,34.1515733 70.6310687,33.5898055 C71.1942596,32.0481439 71.3697997,30.3619759 72.073353,28.8531764 C72.5601805,27.5917933 73.0396939,26.0338737 72.5019284,24.7458551 C72.187158,24.3863618 72.483643,23.8716386 72.1555503,23.5387809 C70.1755005,21.2787381 68.192229,19.011431 65.9934507,16.9547868 C65.0797892,16.1029684 64.1115327,15.3088315 63.1376164,14.5226507 C61.2678015,12.6274629 59.8711437,9.99383069 62.5895762,8.12302995 C65.0755226,6.40668075 68.2484784,6.82376908 71.0710507,6.19264516 C71.4630553,6.09431851 71.7803509,6.39137396 72.0609886,6.61561407 Z M1.13466445,37.209411 C1.75236336,37.471356 2.46340499,37.2856855 3.06638849,37.5949345 C3.89306363,38.0188547 4.57780909,38.5593486 4.8740329,39.5104449 C5.18671358,40.3588042 6.04168759,41.2146871 6.03442006,42.1357752 C5.8843459,43.8228944 4.09934059,44.185328 2.65644678,44.1170096 C1.98145355,44.1698483 1.29627273,44.1334406 0.620060476,44.2117906 C0.0662734614,44.2464687 0.0701046924,43.5287793 0.60847971,43.523677 C1.78693151,43.4934958 3.0562009,43.5822233 4.0934196,42.9242909 C4.4106281,42.7143198 4.9100813,42.6386507 4.88622318,42.0769694 C4.87690632,41.8564479 4.83815864,41.6370506 4.73071003,41.4729134 C4.28358797,40.7893832 3.99554906,40.0186822 3.50880859,39.3554745 C3.01379614,38.3676246 0.828601341,39.0692289 0.717582717,38.1610262 C0.777750457,37.8442536 0.687368237,37.3211419 1.13466445,37.209411 Z M62.4395052,2.22802292 C62.6483072,2.22750405 62.6833108,2.6024771 62.4501281,2.65064592 C57.9352837,4.19369115 52.7534568,8.08369064 55.7942351,13.2588549 C56.4809833,14.5913237 57.4900773,15.6754248 58.5091847,16.7524345 C60.246822,18.9675083 62.204581,20.9803076 64.036606,23.1171178 C65.7573511,24.9289398 67.4983844,26.8487742 66.5236844,29.4995293 C64.9035091,34.5774046 59.0723756,38.4449196 53.7407824,37.3826112 C53.1008798,37.2178687 52.6245011,36.8415985 52.2078547,36.3269618 C51.4295924,35.3657474 50.5397019,34.4982763 49.7766775,33.5205445 C49.0635461,32.5423802 48.4308705,31.5080911 47.5588301,30.6531594 C47.8928516,31.2795054 48.1884484,31.9451797 48.4724182,32.6213304 L48.660303,33.0733329 C48.691428,33.1488198 48.7224831,33.2243569 48.7535048,33.2999046 L48.9395304,33.7530014 L49.1179765,34.1839951 C50.3737608,37.1918493 51.8070379,39.9680874 55.7864856,39.9624535 C56.8872679,40.0099305 58.062498,40.3885356 59.0345858,39.6420487 C59.1896635,39.5153569 59.3469181,39.3477606 59.5287275,39.3042616 C60.495765,39.0731032 61.2351055,38.4266725 62.0778021,37.9708416 C63.8186612,37.2870519 64.034255,35.917916 65.3730961,35.0161992 C65.754826,34.8298369 65.9523085,34.4581501 66.1517067,34.1163849 C66.367823,33.7461682 66.5936044,33.4055274 66.893137,33.0852955 C67.3138758,32.6355181 67.4749616,32.0093235 67.7293031,31.4533499 C68.1458624,30.5423798 68.3411681,29.5508113 68.5519729,28.5833705 C68.8078817,27.7696029 68.4433052,26.899105 68.2612347,26.0752193 C68.2163919,25.4395985 67.5586392,25.0886666 67.5447074,24.4593587 C67.5562011,24.2255195 67.4132266,24.0628524 67.2603256,23.9020879 C64.7098578,21.1935649 61.3348916,19.3296824 59.1290604,16.2960847 C57.7190804,14.1082519 56.3365285,11.3759471 57.2303372,8.74733068 C58.0865302,5.5425045 60.4416924,3.80263301 63.6455592,3.13198817 C64.2221595,2.89097113 64.7606216,2.97770959 65.2997803,3.2423354 C68.5160986,4.28821273 62.1741924,3.61263859 59.5914203,6.6247895 C56.4478083,10.2392668 58.9264406,15.3350433 62.2765908,17.8436269 C68.558068,23.0612524 73.1354311,27.0057336 66.9208263,34.8219673 C64.6900921,37.3958425 62.1058398,40.3017107 58.5545499,40.8461826 C55.9399961,41.4946889 53.5036815,40.9604214 51.3374687,39.3919514 C50.2091712,38.657658 49.4869842,37.5274636 49.0436933,36.2804361 C46.8293289,30.6436468 45.7993373,28.4929134 39.4142427,27.4613916 L39.1931658,27.4494065 L38.7478341,27.4254504 C38.4496637,27.4094069 38.1491008,27.3931127 37.8471831,27.3759354 L37.3934202,27.3494282 C36.6358876,27.3038823 35.8731298,27.250842 35.1213592,27.1804294 L34.6717449,27.1360181 C28.7725996,26.5217398 23.7615259,24.6999538 27.6318145,16.8004304 C27.8662056,16.1683716 28.1826869,15.4492315 28.5106619,14.6882663 L28.6625941,14.3342465 C30.1595631,10.8270897 31.6695636,6.60184334 26.5931155,5.88911243 C26.456149,5.87873495 26.2133883,5.91176994 26.1950158,5.66080781 C26.1769916,5.41563977 26.4034696,5.44054573 26.5447898,5.36124447 C29.9076527,5.32622046 31.7048483,8.39510161 30.604066,11.4683932 C30.3518578,12.354414 30.0245053,13.2128913 29.6802931,14.065207 L29.1586158,15.3417319 C28.9853655,15.7674817 28.8151859,16.1943638 28.6553626,16.6250509 C27.6010775,19.2509865 25.738664,23.1557739 29.1931281,24.796454 C34.5241989,27.3881439 41.2096968,25.1977167 46.0889436,29.0557189 C45.4359799,27.4429716 44.0542116,26.5771436 42.7740581,25.5454488 C41.9027143,24.8735933 40.8322335,24.5543992 39.759663,24.3349154 C37.5389423,24.0267907 35.276078,23.9992903 33.0445601,23.741064 C32.3393524,23.6856309 31.6203,23.6953166 30.9508795,23.4506674 C29.9073044,23.0595228 28.8975138,22.0061218 29.2139387,20.8284504 C29.377898,19.863431 29.940044,19.0654025 30.3376213,18.2011312 C31.068864,16.6116467 31.6650557,14.9823819 32.0402552,13.2736428 C32.5275181,10.6543661 32.7591334,7.67006147 31.322683,5.29292604 C31.044048,4.9063648 30.7341537,4.54851459 30.384728,4.22292107 C30.2478486,4.09545098 29.9765278,3.96313808 30.183153,3.74763235 C30.3653977,3.55755145 30.6213936,3.60027209 30.8384677,3.78931524 C34.8310457,7.72082465 33.1893632,14.282853 31.0497078,18.7767356 C28.285001,23.1651258 32.1411645,22.762934 36.6707269,23.0553224 L37.1109742,23.0859704 C39.7626753,23.2850782 42.5767288,23.7780182 44.3888348,25.6385867 C46.6956712,27.8374024 48.4675284,30.4936921 50.5620798,32.8790431 C51.8442361,34.2498221 52.6915476,36.8080446 54.9448338,36.58588 C55.9949394,36.5190317 57.0038592,36.2433366 58.0345474,36.0605199 C58.9107673,35.9880505 59.734482,35.7766093 60.333373,35.064541 C61.5767816,34.1808983 62.9130105,33.388491 63.8688155,32.1590187 C64.3019188,31.5357644 64.5081957,30.7968876 65.0202745,30.2113381 C65.4794127,29.7808455 65.4862915,29.1684876 65.5024872,28.5733389 C66.270649,26.9169197 63.8378174,25.0207806 62.9669089,23.7297352 C62.3768994,23.0574473 61.7630317,22.3776357 61.1259154,21.7565433 C60.8761888,20.7784655 59.9528621,20.3466758 59.361024,19.6512115 C58.8883397,19.0978163 58.3897856,18.5425355 57.8928051,17.9794108 L57.5207936,17.5555033 C55.1102113,14.7893349 52.9000796,11.801348 54.06992,7.9012199 C55.287729,5.18880529 57.8983646,3.08061963 60.7140581,2.14258165 C61.3361107,1.89386797 61.8641239,2.25872298 62.4395052,2.22802292 Z M58.0628114,1.42430417 C56.1714024,2.5752535 54.3197859,4.00086023 53.2472154,5.99515301 C52.2493539,7.82894073 52.0375913,9.98616 52.1956296,12.0355399 C52.3117855,14.028449 53.4262384,15.8889588 54.6549315,17.4275936 C55.9120107,18.858735 57.6683688,19.765554 58.7140336,21.3965484 C59.2396089,22.1278151 59.7403681,22.8559684 60.1175702,23.6921341 C60.8816396,25.2338822 63.1089779,25.8503912 63.2071097,27.7668528 C63.4425562,29.0642976 62.952507,30.1257412 61.976675,30.9722843 C60.6462801,32.7360241 58.4486338,33.2586168 56.3344909,33.4017396 C53.9622624,33.5427004 52.0034585,31.6443128 50.6899558,29.8732224 C50.3987823,29.3837511 50.2148832,28.8360795 49.8449082,28.3878587 C47.9116168,25.3641196 45.6301188,23.0523623 42.0972886,21.9930807 C41.1525418,21.6601365 40.1505008,21.6242477 39.1781518,21.4421229 C37.3452561,21.0919693 35.5561584,21.8902572 33.7605301,21.4432471 C31.2701429,20.4845406 33.3711377,17.8945803 33.8022383,16.2316752 C34.993664,11.9660108 35.4180599,7.00479563 32.4961368,3.30721197 C32.3809387,3.16365679 32.3367054,3.04552644 32.4818568,2.89505294 C32.9894078,2.52483623 33.3863756,3.39023183 33.6065843,3.72602989 C34.9807771,5.94897321 35.4131838,8.57525471 35.4458363,11.1486975 C35.3799217,13.7434142 34.9315806,16.2548515 33.7944887,18.6178909 C33.2954709,19.5867154 33.4650029,20.7708727 34.7756321,20.7745048 C39.7213159,19.860335 44.5875016,20.9000723 48.1440158,24.6241186 C48.9894118,25.5267002 49.6436815,26.5709344 50.3359153,27.5887925 C50.9187848,28.4867042 51.7081925,29.2490168 52.2503988,30.1741694 C52.6034815,30.8544134 53.0187347,31.4567398 53.8649143,31.5778105 C54.5561903,32.0100326 55.3003198,32.1735645 56.0922527,32.2859872 C57.1088349,32.5261395 57.9876671,32.2156798 58.8345433,31.7271598 C59.2484903,31.4883047 59.7650099,31.5741784 60.1527479,31.2342293 C61.1319757,30.375752 62.0840366,29.5254038 61.9977468,28.0524066 C62.0029155,26.9971065 61.3978173,26.50099 60.7588495,26.0338451 L60.484613,25.8338681 C60.0751892,25.5319258 59.6857975,25.2106539 59.4695698,24.7291906 C59.2365613,24.0092527 58.7109861,23.5368178 58.39073,22.9108826 C57.6819865,21.7873996 56.7154901,20.9139173 55.7329609,20.0577377 L55.1968987,19.591048 C53.8600325,18.4216206 52.5750769,17.2056946 51.9549586,15.3532212 C51.1423894,13.9624656 50.7735463,12.3656304 50.9914911,10.7534019 C50.7339279,6.84774972 53.083082,3.02658753 56.3658374,0.976602255 C56.7222289,0.651268165 58.8707658,0.893582392 58.0628114,1.42430417 Z M52.8391773,0.438192427 C53.2852162,0.658557963 51.8962298,1.93116681 51.7260987,2.21463973 C50.3966219,3.59058478 49.7252219,5.3825963 49.3650156,7.27292606 C48.8797343,9.20977838 48.5143603,11.2135653 48.6321682,13.221945 C48.968716,14.2262199 49.3459596,15.1853331 49.9996763,16.0474888 C51.1207487,17.5653829 52.8087362,18.4105285 53.9331192,19.8857274 C54.2320396,20.4372791 54.8106628,20.7044224 55.1377633,21.2342862 C55.9719465,22.55733 56.7821482,23.8928761 57.5278342,25.2761355 C58.8466526,28.5324594 57.1182116,30.9196535 53.9463615,28.8832072 C51.7840741,26.3705638 50.3410689,23.2204678 47.9467993,20.8951053 C45.6415921,18.262796 42.3986859,17.2045992 39.0965124,18.0144489 C37.3572514,18.1612459 36.5786212,17.2809744 36.3197507,15.7004832 C36.1515037,14.673427 36.4615412,13.7370879 36.836984,12.8194041 L36.9572375,12.5301452 C37.7354639,10.679449 38.1849749,8.75246248 38.0850926,6.71661152 C38.0087879,5.16010451 37.6201592,3.6947715 36.813268,2.36832576 C36.702485,2.1860628 36.4329561,1.96569726 36.7332491,1.75970524 C36.995055,1.57999879 37.2988303,1.6448985 37.426875,1.86562191 L37.6637487,2.20544706 C39.8421543,6.03836628 38.9831325,9.52816536 37.7854402,13.2510374 L37.6625786,13.6304605 L37.2232812,14.9730401 C36.9472942,16.7584504 38.0655384,17.5031664 39.4930672,17.1128032 L39.5770297,17.0883353 C42.0673866,16.3091888 44.3592707,17.2678767 46.6042416,18.3613694 C47.1181606,18.6306956 47.5070137,19.0346282 47.8831029,19.4531139 L48.1081232,19.7049913 C48.220766,19.8308427 48.3342814,19.9558429 48.4517017,20.0767506 C48.5286523,20.1559325 48.5926836,20.2721963 48.6848951,20.3083427 C49.4714038,20.6165653 49.9295578,21.2737097 50.353923,21.9549379 L50.5646535,22.2960552 C50.8815297,22.807612 51.2440296,23.2714382 51.6371696,23.7110085 L51.8074903,23.8979791 C52.0382614,24.1468365 52.2064545,24.4231652 52.2515913,24.7765495 C52.9089416,26.1635511 53.9208459,27.4301214 55.0893967,28.4090513 C59.237149,29.4230704 55.6227307,23.7731273 54.5719385,22.3023373 L54.5408916,22.2590583 C54.0960639,21.6650664 53.6502672,21.0570412 53.0644577,20.5913904 C52.9954914,20.5122785 52.9319817,20.4296599 52.8706077,20.3461692 L52.7497231,20.1788059 C52.5097128,19.8448764 49.4675999,17.632126 49.2826924,17.2744891 C48.9636996,16.7893218 47.9410663,14.8052429 47.8948798,14.6902548 C47.2616781,12.669751 47.4448119,10.4727567 47.8335006,8.42392871 L47.8759046,8.20499318 C48.1104707,6.87939795 48.5549754,5.61784565 48.8770697,4.31955159 C49.4711154,2.86161797 50.4998148,1.61035677 51.5608932,0.493815376 C51.7889996,0.271918933 52.6088908,0.245383214 52.8391773,0.438192427 Z M46.815865,0.124056891 C47.6654405,0.451207041 47.4039589,1.14130966 47.3830613,1.66727509 C47.3949904,4.90133117 46.0723458,9.86335444 45.0549798,12.891504 C44.724882,14.0942109 44.0117042,15.0235792 42.3118361,15.2458535 C39.4174238,14.7122524 39.616439,12.3074559 40.2526969,10.0227466 L40.3264513,9.76472028 C40.5650178,8.94993915 40.8468952,8.16024808 41.0497088,7.48738864 C41.4028129,6.26594211 41.5720381,5.38279429 41.6825806,4.30231042 C41.7866207,3.28538442 41.7927407,2.19221477 41.4964207,1.30816952 L41.4372665,1.14493139 C41.0814098,0.234592043 41.5792729,0.30896624 42.0525,0.505012033 C42.5257271,0.701057827 43.3126644,2.48601028 42.226741,6.57928474 C42.1697637,7.05966779 41.9976325,7.63696484 41.7931232,8.25547329 L41.4372665,9.31258364 L41.2877809,9.77372231 L41.2271239,9.97007913 C40.6125598,11.9970086 40.4551694,13.4540587 43.1899597,13.607512 C43.5916576,13.4151743 43.9164651,12.8322964 44.0744451,12.2352713 C44.8368999,8.58402314 46.2917097,5.03494811 46.0228463,1.25468939 L45.9945884,0.920528708 C45.9464368,0.323045127 46.0745218,-0.262071954 46.815865,0.124056891 Z"></path></g></svg>
        </a>
        <a className="navbar-brand text-primary" href="#">FAIRnotator</a>
        <div className="collapse navbar-collapse" id="navbarSupportedContent">
          <ul className="navbar-nav mr-auto">
            <li className="nav-item active">
              <a className="nav-link text-primary" href="https://github.com/MaastrichtU-CDS/EPND-FAIRification">GitHub</a>
            </li>
            <li className="nav-item">
              <a className="nav-link text-primary" href="https://github.com/MaastrichtU-CDS/EPND-FAIRification">How-to</a>
            </li>
            <li className="nav-item">
              <a className="nav-link text-primary" href="https://github.com/MaastrichtU-CDS/EPND-FAIRification">FAQ</a>
            </li>
          </ul>
        </div>
      </nav>
      <div className="container-fluid custom-container">
        <div className="d-flex justify-content-center">
          <div className="row h-100 w-75">
            <div className="col-lg-3 mb-3 h-100">
              <div className="card h-100 overflow-auto">
                <div className="card-header">
                  <h5>Terminology</h5>
                </div>
                <div className="card-body d-flex justify-content-center align-content-center">
                  <div className="flex-grow-1 d-flex justify-content-center align-content-center">
                    <GoogleSheetReader
                      data={googleSheetData}
                      onFetchData={handleGoogleSheetData}
                      onOntologyTermClick={handleOntologyTermClick}
                      showList={showList}
                      onClose={handleSheetCloseClick}
                    />
                  </div>
                </div>
              </div>
            </div>

            <div className="col-lg-6 mb-3 h-100">
              <div className="card h-100 overflow-auto">
                <div className="card-header">
                  <h5>Mappings</h5>
                </div>
                <div className="card-body">
                  {selectedOntologyTerm && (
                    <div>
                      <h1 className="text-primary pb-3">{selectedOntologyTerm && selectedOntologyTerm.variable}</h1>
                      <p><b>Ontology Class: </b> {selectedOntologyTerm && selectedOntologyTerm.ontologyClass}</p>
                      <p><b>Data Type: </b> {selectedOntologyTerm && selectedOntologyTerm.type}</p>
                      <p><b>Unit: </b> {selectedOntologyTerm && selectedOntologyTerm.unit} {selectedOntologyTerm && selectedOntologyTerm.unitClass && '(' + selectedOntologyTerm.unitClass + ')'}</p>
                    </div>
                  )}
                  {selectedOntologyTerm && localTerms && localTerms.length > 0 && (
                    <div className="form-group">
                      <label htmlFor="columnSelect">Select Mapping:</label>
                      <select
                        id="columnSelect"
                        className="form-control"
                        value={selectedMapping}
                        onChange={handleMappingChange}
                      >
                        <option value="">Select a column</option>
                        {localTerms.map((column, index) => (
                          <option key={index} value={column}>
                            {column}
                          </option>
                        ))}
                      </select>
                    </div>
                  )}

                  {selectedOntologyTerm && selectedOntologyTerm.valueClass && selectedOntologyTerm.valueClass.length > 0 && (
                    <CategoricalValues
                      data={selectedOntologyTerm}
                      categoricalValueMappings={categoricalValueMappings}
                      uniqueCategoricalValues={uniqueCategoricalValues}
                      onSelectionChange={handleCategoricalValueSelectionChange}
                    />
                  )}
                  {selectedMapping && selectedOntologyTerm && (selectedOntologyTerm.type === "float" || selectedOntologyTerm.type === "integer") && (
                    <div className="mt-3">
                      {(() => {
                        const stats = getColumnStatistics(selectedMapping);
                        return (
                          <div className="list-container">
                            <ul className="list-group p-0">
                              <li className="list-group-item">
                                <b>Mean:</b> {stats.mean}
                              </li>
                              <li className="list-group-item">
                                <b>Standard Deviation:</b> {stats.std}
                              </li>
                              <li className="list-group-item">
                                <b>Count:</b> {stats.count}
                              </li>
                              <li className="list-group-item">
                                <b>Min:</b> {stats.min}
                              </li>
                              <li className="list-group-item">
                                <b>Max:</b> {stats.max}
                              </li>
                            </ul>
                          </div>
                        );
                      })()}
                    </div>
                  )}
                    <button className="btn btn-danger p-2 position-absolute bottom-0 start-50 translate-middle" onClick={deleteJsonLd}>
                      Delete Local Mapping Data
                  </button>
                </div>
              </div>
            </div>

            <div className="col-lg-3 mb-3 h-100">
              <div className="card h-100 overflow-auto">
                <div className="card-header">
                  <h5>Local Data</h5>
                </div>
                <div className="card-body">
                  <div className="flex-grow-1 d-flex justify-content-center m-3">
                    <CsvUploader
                      onUpload={handleCsvUpload}
                    />
                  </div>
                  <div className="d-flex justify-content-center">
                    <button className="btn btn-primary d-flex align-content-center p-3 my-2" onClick={handleExportJsonLd}>
                      Export JSON-LD
                    </button>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default App;
