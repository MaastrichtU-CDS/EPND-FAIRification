<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>

{% block content %}
<p>
   {% with messages = get_flashed_messages() %}
     {% if messages %}
      {% for message in messages %}
        <div class="alert alert-warning alert-dismissible">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          {{ message }}
        </div>
      {% endfor %}
     {% endif %}
   {% endwith %}
</p>
{% endblock %}

  <head>
    <title> CSV File Upload</title>
    <script>
    $(document).ready(function(){
      $("#CSV").click(function(){
        $("#postgresform").hide();
        $("#csvform").show();
      });
      $("#Postgres").click(function(){
       $("#postgresform").show();
       $("#csvform").hide();
      });
    });
    </script>
  </head>
  <body>
    <br><h3 class="col-lg-4 control-label">Select your data source</h3><br>

    <div class="col-lg-4 control-label">
      <input type="radio" id="CSV" name="file" value="CSV" >
      <label for="CSV">CSV FILE</label>
    </div>

    <div class="col-lg-4 control-label">
      <input type="radio" id="Postgres" name="file" value="Postgres">
      <label for="Postgres">PostgreSQL</label>
    </div>

    <form id="csvform" style="display: none;" method="POST" action="csv" enctype="multipart/form-data" class="col-lg-4 control-label">
      <br><p><input type="file" name="file"></p>
      <p><input type="submit" value="Submit"></p>
    </form>

    <form id="postgresform" style="display: none;" method="POST" action="postgres" class="col-lg-6 control-label">
      <br><label for= "POSTGRES_URL" class="col-lg-4 control-label">URL</label>
      <input id="POSTGRES_URL" type="text" name="POSTGRES_URL" placeholder="localhost" required>
      <br><br><label for= "username" class="col-lg-4 control-label">Username</label>
      <input id="username" type="username" name="username" placeholder="Username" required>
      <br><br><label for= "password" class="col-lg-4 control-label">Password</label>
      <input id="password" type="password" name="password" placeholder="Password" required>
      <br><br><label for= "POSTGRES_DB" class="col-lg-4 control-label">Database Name</label>
      <input id="POSTGRES_DB" type="db" name="POSTGRES_DB" placeholder="DB Name" required>
      <br><br><label for= "table" class="col-lg-4 control-label">Table Name</label>
      <input id="table" type="text" name="table" placeholder="Table Name" required>
      <br><br><input type="submit" value="Submit">
    </form>
  </body>
</html>