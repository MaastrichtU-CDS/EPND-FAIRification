{% extends 'base.html' %}

{% block content %}
<!--

Backup of dropdown for if something wrong    
<form class = "linkColumns" method="POST" action="{{ url_for('linkdatasets.submitForm') }}">
    <div>
        <select name="columns" method="GET" action="/">
            {% for column in columns %}
                    <option value="{{column}}" SELECTED>{{column}}</option>
            {% endfor %}
        </select>
        <select name="cdmcolumns" smethod="GET" action="/">
            {% for cdmcolumn in cdmcolumns %}
                <option value="{{cdmcolumn}}" SELECTED>{{cdmcolumn}}</option>
            {% endfor %}
        </select>
        <button>Confirm</button>
    </div>
</form>

Backup of links table
<table>
    <tr>
        <th>Dataset Column</th>
        <th>CDM Column</th>
        <th></th>
    </tr>
    {% for link in links %}
    <tr>
        <td> {{link['datacolumn']}} </td>
        <td> {{link['cdmcolumn']}} </td>
        <td>   <form action="{{ url_for('linkdatasets.deleteLink', value1=link['datacolumn'], value2=link['cdmcolumn']) }}" method="post">
            <input class="danger" type="submit" value="Delete">
          </form> </td>
    </tr>
    
    {% endfor %}
</table>




<p>{{ name }}</p>

<img src={{ url }} alt="Chart" height="42" width="42">-->
<!--
<div style="overflow-x:auto;">
    {% for CDMtable in CDMtables %}
        {{ CDMtable|safe }}
    {% endfor %}
</div>
<br>

<div style="overflow-x:auto;">
    {% for table in tables %}
        {{ table|safe }}
    {% endfor %}
</div>
<br>
<br>
<div style="overflow-x:auto;">
    {% for table in tables %}
        {{ table|safe }}
    {% endfor %}
</div>

<select>
    {% for calc in linkstest %}
        <option>{{ calc[0] }}</option>
    {% endfor %}
</select>

{% for result in linkstest %}
    <tr>
        a <br>
        <td>{{ result[0] }}</td>
        <br> b <br>
        <td>{{ result[1] }}</td>
        <br> c <br>
        <td>{{ result[2] }}</td>
        <br>
    </tr>
{% endfor %}

{% for result in linkstest %}
    <tr>
    {% for elem in result %}
        <td>{{elem}}</td>
    {% endfor %}
    </tr>
{% endfor %}
-->

<form class = "linkColumns" method="POST" action="{{ url_for('linkdatasets.submitForm') }}">
    <div>
        <select name="columns" method="GET" action="/">
            {% for column in datasetVariablesList %}
                    <option value="{{column[1]}}" SELECTED>{{column[0]}}</option>
            {% endfor %}
        </select>
        <select name="cdmcolumns" smethod="GET" action="/">
            {% for cdmcolumn in cdmlist %}
                <option value="{{cdmcolumn[0]}}" SELECTED>{{cdmcolumn[1]}}</option>
            {% endfor %}
        </select>
        <button>Confirm</button>
    </div>
</form>


<table>
    <tr>
        <th>Dataset Column</th>
        <th>Dataset URI</th>
        <th>CDM Column</th>
        <th>CDM URI</th>
        <th></th>
    </tr>
    {% for link in links %}
    <tr>
        <td> {{link[2]}} </td>
        <td> <a href="{{link[3]}}"> {{link[3]}} </a> </td>
        <td> {{link[1]}} </td>
        <td> <a href="{{link[0]}}"> {{link[0]}} </a> </td>
        <!--<td>   <form action="{{ url_for('linkdatasets.deleteLink', value1=link[0], value2=link[3]) }}" method="post">
            <input class="danger" type="submit" value="Delete">
          </form> </td>-->
        <td>
            <form action="/deletelink" method="POST">
                <button class="btn btn-danger" type="submit" name="delete" value={{link[3]}},{{link[0]}}>Delete</button>
            </form>
        </td>
    </tr>
    
    {% endfor %}
</table>
{% endblock %}